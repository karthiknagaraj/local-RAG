<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local RAG - Documentation</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <style>
        :root {
            --primary-color: #2563eb;
            --bg-color: #ffffff;
            --bg-sidebar: #f8fafc;
            --text-main: #1e293b;
            --border-color: #e2e8f0;
            --sidebar-width: 280px;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            background: var(--bg-color);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Loading / Error State */
        #loader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #error-msg { color: red; display: none; padding: 20px; text-align: center; }

        /* Sidebar */
        #sidebar {
            width: var(--sidebar-width);
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .brand {
            padding: 1.5rem;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
        }

        .nav-links { padding: 1rem; overflow-y: auto; flex: 1; }

        .nav-item {
            padding: 0.75rem 1rem;
            margin-bottom: 0.25rem;
            border-radius: 0.5rem;
            color: #64748b;
            cursor: pointer;
            font-weight: 500;
        }
        .nav-item:hover { background: #e2e8f0; color: var(--text-main); }
        .nav-item.active { background: #dbeafe; color: var(--primary-color); }

        /* Main Content */
        #main { flex: 1; overflow-y: auto; position: relative; }
        .content-container { max-width: 900px; margin: 0 auto; padding: 3rem 2rem; }

        /* Markdown Styles */
        .markdown-body { line-height: 1.7; }
        .markdown-body h1 { font-size: 2.25rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem; margin-top: 0; }
        .markdown-body h2 { font-size: 1.75rem; margin-top: 2rem; }
        .markdown-body h3 { font-size: 1.25rem; margin-top: 1.5rem; }
        .markdown-body pre { background: #1e293b; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; color: #f8fafc; }
        .markdown-body code { font-family: 'JetBrains Mono', monospace; background: #f1f5f9; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; }
        .markdown-body pre code { background: transparent; padding: 0; color: inherit; }
        .markdown-body table { width: 100%; border-collapse: collapse; margin: 2rem 0; }
        .markdown-body th, .markdown-body td { border: 1px solid #e2e8f0; padding: 0.75rem; text-align: left; }
        .markdown-body th { background: #f8fafc; }
        .markdown-body blockquote { border-left: 4px solid var(--primary-color); background: #f8fafc; padding: 1rem; margin: 1.5rem 0; }
        .mermaid { display: flex; justify-content: center; background: white; padding: 1rem; margin: 2rem 0; border: 1px solid #eee; border-radius: 8px; }

        /* Mobile */
        .mobile-menu-btn { display: none; position: absolute; top: 1rem; left: 1rem; z-index: 100; }
        @media (max-width: 768px) {
            #sidebar { display: none; position: absolute; height: 100%; z-index: 50; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
            #sidebar.open { display: flex; }
            .mobile-menu-btn { display: block; }
            .content-container { padding: 4rem 1.5rem; }
        }
    </style>
</head>
<body>

    <div id="loader">
        <div id="loading-text">Loading Documentation...</div>
        <div id="error-msg"></div>
    </div>

    <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞ Menu</button>

    <nav id="sidebar">
        <div class="brand">Local RAG Docs</div>
        <div class="nav-links" id="nav-container"></div>
    </nav>

    <main id="main">
        <div class="content-container markdown-body" id="content-area"></div>
    </main>

    <textarea id="raw-index" hidden>
# Local RAG Project - Documentation Index

## Welcome to the Local RAG Documentation

This project provides a fully local Retrieval-Augmented Generation (RAG) system for answering questions about your private document collection without any cloud dependencies.

---

## üìö Documentation Structure

### üöÄ Quick Start
**File:** [README.md](README.md)
- Installation instructions
- Basic usage examples
- Prerequisites
- Getting started in 5 minutes

### üìñ Complete Documentation
**File:** [DOCUMENTATION.md](DOCUMENTATION.md)
- **Comprehensive overview** of all features
- **Architecture diagrams** (Mermaid-based)
- **Requirements** and dependencies
- **Configuration** guide
- **Components** deep-dive
- **API reference** summary
- **Usage examples**
- **Troubleshooting** guide
- **Performance benchmarks**

### üèóÔ∏è System Architecture
**File:** [ARCHITECTURE.md](ARCHITECTURE.md)
- **High-level architecture** diagrams
- **Component interactions** (C4 diagrams)
- **Data flow** diagrams (indexing & query)
- **Design decisions** and rationale
- **Scaling considerations**
- **Security architecture**
- **Performance optimization** strategies
- **Future enhancements** roadmap

### üîß API Reference
**File:** [API_REFERENCE.md](API_REFERENCE.md)
- **Complete API documentation** for all modules
- **Function signatures** with type hints
- **Class documentation** (Embedder, FaissStore)
- **Parameter descriptions**
- **Return value specifications**
- **Code examples** for each API

### üö¢ Deployment Guide
**File:** [DEPLOYMENT.md](DEPLOYMENT.md)
- **Production deployment** strategies
- **System requirements** (min/recommended)
- **Installation steps** (Windows/Linux/macOS)
- **Deployment scenarios** (desktop, server, HA)
- **Security hardening** checklist
- **Monitoring & maintenance** guide

### ‚ö° Quick Reference
**File:** [QUICK_REFERENCE.md](QUICK_REFERENCE.md)
- **Command cheatsheet**
- **Configuration quick reference**
- **Troubleshooting quick fixes**
- **Common workflows**
    </textarea>

    <textarea id="raw-doc" hidden>
# Local RAG Application - Complete Documentation

## Overview

This is a fully local Retrieval-Augmented Generation (RAG) application that enables question-answering over a private document collection without any cloud dependencies. The system uses:
- **Local embeddings** via SentenceTransformers (all-MiniLM-L6-v2)
- **Local vector database** via FAISS
- **Local LLM inference** via llama-cpp-python (CPU-optimized)
- **Web UI** via Gradio for easy interaction

## Architecture

### System Architecture Diagram

```mermaid
graph TB
    subgraph "Input Layer"
        DOCS[Document Collection<br/>.txt .md .pdf .docx]
        QUERY[User Query]
    end
    
    subgraph "Indexing Pipeline"
        LOADER[Document Loader]
        CHUNKER[Sentence-Aware Chunker]
        EMBEDDER[Embedder<br/>all-MiniLM-L6-v2]
        FAISS[FAISS Vector Store]
        
        DOCS --> LOADER
        LOADER --> CHUNKER
        CHUNKER --> EMBEDDER
        EMBEDDER --> FAISS
    end
    
    subgraph "Query Pipeline"
        Q_EMBED[Query Embedding]
        RETRIEVER[Similarity Search]
        CONTEXT[Context Builder]
        LLM[Local LLM]
        
        QUERY --> Q_EMBED
        Q_EMBED --> RETRIEVER
        FAISS --> RETRIEVER
        RETRIEVER --> CONTEXT
        CONTEXT --> LLM
    end
    
    subgraph "Interface Layer"
        CLI[CLI Interface]
        WEB[Web UI]
        
        LLM --> CLI
        LLM --> WEB
    end
    
    style DOCS fill:#e1f5ff
    style FAISS fill:#fff4e1
    style LLM fill:#ffe1e1